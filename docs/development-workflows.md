\n# Development Workflows & Conventions\n\n## Table of Contents\n- [Project Structure](#project-structure)\n- [Code Style & Standards](#code-style--standards)\n- [Development Workflow](#development-workflow)\n- [Git Conventions](#git-conventions)\n- [Testing Standards](#testing-standards)\n- [Code Review Process](#code-review-process)\n- [Performance Guidelines](#performance-guidelines)\n\n## Project Structure\n\n### Monorepo Architecture\n```\nascenta-plus/\n├── apps/\n│   └── web/                 # Next.js application\n├── packages/\n│   ├── emails/             # Email templates\n│   ├── eslint-config/      # Shared ESLint configuration\n│   ├── inngest/           # Background job definitions\n│   ├── types/             # Shared TypeScript types\n│   ├── typescript-config/ # Shared TypeScript config\n│   └── ui/                # Shared UI components\n└── docs/                  # Documentation\n```\n\n### Application Structure (apps/web)\n```\nsrc/\n├── app/                   # Next.js App Router pages\n├── components/            # React components\n├── db/                   # Database schema & utilities\n├── domain/               # Business logic layer\n├── hooks/                # Custom React hooks\n├── lib/                  # Utilities & configurations\n└── types/                # TypeScript definitions\n```\n\n## Code Style & Standards\n\n### TypeScript Standards\n- **Strict Mode**: Always use TypeScript strict mode\n- **ES Modules**: Use ES modules (`import`/`export`) syntax, not CommonJS\n- **Destructuring**: Destructure imports when possible\n  ```typescript\n  // ✅ Good\n  import { useState, useEffect } from 'react'\n  \n  // ❌ Avoid\n  import React from 'react'\n  const { useState, useEffect } = React\n  ```\n\n### Interface & Type Conventions\n- Use **interfaces** for all controller requests and results\n- Use **interfaces** for all API request bodies and responses\n- Use **DTOs** for all API responses\n- Prefix interfaces with `I` when needed for clarity\n\n```typescript\n// API Request/Response\ninterface CreateCampaignRequest {\n  name: string\n  organisationId: string\n}\n\ninterface CreateCampaignResponse {\n  id: string\n  name: string\n  createdAt: string\n}\n\n// DTOs\ninterface CampaignDTO {\n  id: string\n  name: string\n  status: 'draft' | 'active' | 'paused'\n}\n```\n\n### Component Standards\n- Use **LoaderCircleIcon** from Lucide React for button loaders\n- Follow clean architecture patterns with domain → application → infrastructure layers\n- Implement proper error boundaries for React components\n\n### Validation & Security\n- **Sanitize** all request bodies with Zod schemas\n- **Check ownership** for any resource IDs passed to controllers\n- Validate all user inputs at API boundaries\n\n```typescript\nimport { z } from 'zod'\n\nconst createCampaignSchema = z.object({\n  name: z.string().min(1).max(100),\n  organisationId: z.string().uuid(),\n})\n\nexport async function POST(request: Request) {\n  const body = await request.json()\n  const validatedData = createCampaignSchema.parse(body)\n  // Verify user owns the organisation\n  await verifyOrganisationOwnership(validatedData.organisationId, userId)\n}\n```\n\n## Development Workflow\n\n### Local Development Setup\n1. **Environment Configuration**\n   ```bash\n   cp .env.example .env.local\n   # Configure all required environment variables\n   ```\n\n2. **Install Dependencies**\n   ```bash\n   npm install\n   ```\n\n3. **Database Setup**\n   ```bash\n   npm run db:generate\n   npm run db:migrate\n   ```\n\n4. **Start Development Server**\n   ```bash\n   npm run dev\n   ```\n\n### Daily Development Process\n1. **Pull Latest Changes**\n   ```bash\n   git pull origin main\n   npm install  # Install any new dependencies\n   ```\n\n2. **Run Database Migrations**\n   ```bash\n   npm run db:migrate\n   ```\n\n3. **Start Development**\n   ```bash\n   npm run dev\n   ```\n\n4. **Before Committing**\n   ```bash\n   npm run lint        # Fix linting issues\n   npm run check-types # Verify TypeScript compilation\n   npm run format      # Format code with Prettier\n   ```\n\n### Turbo Commands\n- `npm run dev` - Start all applications in development mode\n- `npm run build` - Build all applications for production\n- `npm run lint` - Run ESLint across all packages\n- `npm run check-types` - Run TypeScript type checking\n- `npm run format` - Format code with Prettier\n\n## Git Conventions\n\n### Branch Naming\n- **Feature branches**: `feature/campaign-analytics`\n- **Bug fixes**: `fix/email-delivery-issue`\n- **Hotfixes**: `hotfix/critical-security-patch`\n- **Refactoring**: `refactor/auth-middleware`\n\n### Commit Messages\nFollow conventional commits format:\n```\ntype(scope): description\n\nfeat(campaigns): add email sequence automation\nfix(auth): resolve session timeout issue\ndocs(api): update campaign endpoints documentation\nrefactor(db): optimize query performance\n```\n\n### Pull Request Process\n1. Create feature branch from `main`\n2. Implement changes with tests\n3. Run full test suite and linting\n4. Create PR with detailed description\n5. Request code review from team members\n6. Address feedback and re-request review\n7. Merge after approval and CI passes\n\n## Testing Standards\n\n### Test Structure\n```\nsrc/\n├── __tests__/\n│   ├── components/        # Component tests\n│   ├── api/              # API route tests\n│   └── utils/            # Utility function tests\n```\n\n### Testing Guidelines\n- **Unit Tests**: Test individual functions and components\n- **Integration Tests**: Test API endpoints and database operations\n- **E2E Tests**: Test complete user workflows\n- **Coverage Target**: Maintain >80% code coverage\n\n### Test Naming Conventions\n```typescript\ndescribe('CampaignService', () => {\n  describe('createCampaign', () => {\n    it('should create campaign with valid data', () => {\n      // Test implementation\n    })\n    \n    it('should throw error for invalid organisation', () => {\n      // Test implementation\n    })\n  })\n})\n```\n\n## Code Review Process\n\n### Review Checklist\n- [ ] **Functionality**: Code works as intended\n- [ ] **Security**: No security vulnerabilities\n- [ ] **Performance**: No obvious performance issues\n- [ ] **Testing**: Adequate test coverage\n- [ ] **Documentation**: Code is well-documented\n- [ ] **Standards**: Follows project conventions\n\n### Review Guidelines\n- **Constructive Feedback**: Provide specific, actionable feedback\n- **Security Focus**: Pay special attention to authentication and data access\n- **Performance Considerations**: Review database queries and API calls\n- **Maintainability**: Ensure code is readable and maintainable\n\n## Performance Guidelines\n\n### Database Optimization\n- Use **indexes** for frequently queried columns\n- Implement **query optimization** for complex operations\n- Use **connection pooling** for database connections\n- Apply **pagination** for large datasets\n\n### API Performance\n- Implement **caching** for expensive operations\n- Use **background jobs** for long-running tasks\n- Apply **rate limiting** to prevent abuse\n- Optimize **payload sizes** for API responses\n\n### Frontend Optimization\n- Use **React Suspense** for code splitting\n- Implement **lazy loading** for heavy components\n- Optimize **bundle sizes** with proper imports\n- Use **memoization** for expensive calculations\n\n### Monitoring & Profiling\n- Monitor **API response times**\n- Track **database query performance**\n- Profile **memory usage** in production\n- Set up **error tracking** and alerting\n\n## Mult